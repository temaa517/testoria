<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤ - Testoria</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header class="header">
        <div class="container">
            <div class="header-inner">
                <div class="logo">
                        <h3>
                        <i class="fas fa-brain"></i>
                        Testoria
                        </h3>
                </div>
                <nav class="nav">
                    <a href="index.html" class="nav-link">
                        <i class="fas fa-home"></i>
                        –ì–ª–∞–≤–Ω–∞—è
                    </a>
                    <a href="catalog.html" class="nav-link active">
                        <i class="fas fa-list"></i>
                        –ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤
                    </a>
                    <a href="about.html" class="nav-link">
                        <i class="fas fa-info-circle"></i>
                        –û –Ω–∞—Å
                    </a>
                    <a href="contact.html" class="nav-link">
                        <i class="fas fa-phone"></i>
                        –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </a>
                </nav>
                <!-- –í–º–µ—Å—Ç–æ –≤—Å–µ–≥–æ –±–ª–æ–∫–∞ header-controls -->
                <div class="header-controls">
                    <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É">
                        <i class="fas fa-moon"></i>
                        <i class="fas fa-sun"></i>
                        <span class="theme-thumb"></span>
                    </button>
                    <!-- –ö–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞ (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) -->
                    <div id="auth-buttons" class="auth-buttons">
                        <a href="login.html" class="btn btn-outline">–í–æ–π—Ç–∏</a>
                        <a href="register.html" class="btn btn-primary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) -->
                    <div id="profile-section" class="profile-dropdown" style="display: none;">
                        <button class="profile-btn" onclick="toggleProfileMenu()">
                            üë§ –ü—Ä–æ—Ñ–∏–ª—å
                        </button>
                        <div class="dropdown-content">
                            <a href="profile.html">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a>
                            <a href="my-tests.html">–ú–æ–∏ —Ç–µ—Å—Ç—ã</a>
                            <a href="results.html">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</a>
                            <a href="#" onclick="logout(); return false;">–í—ã–π—Ç–∏</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="page-content">
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <section class="breadcrumbs">
            <div class="container">
                <nav class="breadcrumbs-nav">
                    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                    <i class="fas fa-chevron-right"></i>
                    <span>–ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤</span>
                </nav>
            </div>
        </section>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–∞–ª–æ–≥–∞ -->
        <section class="catalog-header">
            <div class="container">
                <h1 class="page-title">
                    <i class="fas fa-list"></i>
                    –ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤
                </h1>
                <p class="page-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∏ —É–∑–Ω–∞–π—Ç–µ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –æ —Å–µ–±–µ!</p>
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ -->
                <div class="catalog-stats">
                    <div class="stat-item">
                        <i class="fas fa-tasks"></i>
                        <span>–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: <strong id="totalTests">12</strong></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
        <section class="catalog-filters">
            <div class="container">
                <div class="filters-grid">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–µ—Å—Ç–æ–≤..." class="search-input" id="searchInput">
                        <button class="search-clear" id="searchClear" style="display: none;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="filter-group">
                        <select class="filter-select" id="categoryFilter">
                            <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                            <option value="food">üçï –ï–¥–∞</option>
                            <option value="animals">üêæ –ñ–∏–≤–æ—Ç–Ω—ã–µ</option>
                            <option value="tech">üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                            <option value="memes">üòÇ –ú–µ–º—ã</option>
                            <option value="entertainment">üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                            <option value="psychology">üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</option>
                            <option value="games">üéÆ –ò–≥—Ä—ã</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select class="filter-select" id="sortFilter">
                            <option value="popular">–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</option>
                            <option value="new">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                            <option value="rating">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                            <option value="time">–ü–æ –≤—Ä–µ–º–µ–Ω–∏</option>
                            <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button class="btn btn-secondary" id="resetFilters">
                            <i class="fas fa-redo"></i>
                            –°–±—Ä–æ—Å–∏—Ç—å
                        </button>
                    </div>
                </div>

                <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                <div class="active-filters" id="activeFilters" style="display: none;">
                    <div class="active-filters-header">
                        <span>–ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:</span>
                        <button class="clear-all" id="clearAllFilters">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
                    </div>
                    <div class="active-filters-tags" id="activeFiltersTags"></div>
                </div>
            </div>
        </section>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
        <section class="search-results" id="searchResults" style="display: none;">
            <div class="container">
                <div class="results-header">
                    <h3 id="resultsCount">–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: 0</h3>
                    <button class="btn btn-text" id="hideResults">
                        <i class="fas fa-times"></i>
                        –°–∫—Ä—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    </button>
                </div>
            </div>
        </section>

        <!-- –°–µ—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤ -->
        <section class="catalog-tests">
            <div class="container">
                <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
                <div class="loader" id="loader" style="display: none;">
                    <div class="loader-spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ—Å—Ç—ã...</p>
                </div>

                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ -->
                <div class="no-results" id="noResults" style="display: none;">
                    <div class="no-results-content">
                        <i class="fas fa-search"></i>
                        <h3>–¢–µ—Å—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</p>
                        <button class="btn btn-primary" id="resetSearch">
                            <i class="fas fa-redo"></i>
                            –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                        </button>
                    </div>
                </div>

                <!-- –°–µ—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤ -->
                <div class="tests-grid" id="testsContainer">
                    <!-- –¢–µ—Å—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>

                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div class="pagination-container">
                    <div class="pagination-info">
                        –ü–æ–∫–∞–∑–∞–Ω–æ <span id="shownTests">0</span> –∏–∑ <span id="totalTestsCount">0</span> —Ç–µ—Å—Ç–æ–≤
                    </div>
                    <div class="pagination" id="pagination">
                        <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>
                        <i class="fas fa-brain"></i>
                        Testoria
                    </h3>
                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ</p>
                    <div class="social-icons">
                        <a href="#" class="social-link">
                            <i class="fab fa-telegram"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>
                        <i class="fas fa-compass"></i>
                        –ù–∞–≤–∏–≥–∞—Ü–∏—è
                    </h4>
                    <a href="index.html">
                        <i class="fas fa-arrow-right"></i>
                        –ì–ª–∞–≤–Ω–∞—è
                    </a>
                    <a href="catalog.html">
                        <i class="fas fa-arrow-right"></i>
                        –ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤
                    </a>
                    <a href="about.html">
                        <i class="fas fa-arrow-right"></i>
                        –û –Ω–∞—Å
                    </a>
                    <a href="contact.html">
                        <i class="fas fa-arrow-right"></i>
                        –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </a>
                </div>
                <div class="footer-section">
                    <h4>
                        <i class="fas fa-envelope"></i>
                        –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </h4>
                    <p>
                        <i class="fas fa-envelope"></i>
                        Email: hello@testoria.cloud
                    </p>
                    <p>
                        <i class="fas fa-phone"></i>
                        –¢–µ–ª–µ—Ñ–æ–Ω: +375 (01) 234-56-78
                    </p>
                    <p>
                        <i class="fas fa-map-marker-alt"></i>
                        –ê–¥—Ä–µ—Å: –≥. –ú–∏–Ω—Å–∫, —É–ª. –£—Ä—É—á—Å–∫–∞—è, 81–ë
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>
                    <i class="far fa-copyright"></i>
                    2025 Testoria. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // –î–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤ (12 —Ç–µ—Å—Ç–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏)
        // –î–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤ (12 —Ç–µ—Å—Ç–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏)
const allTests = [
    {
        id: 1,
        title: "–ö–∞–∫–æ–π —Ç—ã –±—É—Ç–µ—Ä–±—Ä–æ–¥?",
        category: "food",
        description: "–£–∑–Ω–∞–π, –∫–∞–∫–æ–π –±—É—Ç–µ—Ä–±—Ä–æ–¥ –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–≤–æ—é –ª–∏—á–Ω–æ—Å—Ç—å –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥!",
        image: "https://images.unsplash.com/photo-1485451456034-3f9391c6f769?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        icon: "fas fa-bread-slice",
        rating: 4.8,
        votes: 256,
        time: 5,
        date: "2024-01-15"
    },
    {
        id: 2,
        title: "–ö—Ç–æ —Ç—ã –∏–∑ –∫–æ—à–∞—á—å–∏—Ö?",
        category: "animals",
        description: "–û–ø—Ä–µ–¥–µ–ª–∏, –∫–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –∏–∑ —Å–µ–º–µ–π—Å—Ç–≤–∞ –∫–æ—à–∞—á—å–∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–≤–æ–µ–º—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É!",
        image: "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        icon: "fas fa-cat",
        rating: 4.9,
        votes: 189,
        time: 7,
        date: "2024-01-20"
    },
    {
        id: 3,
        title: "–¢–≤–æ–π —Å—Ç–∏–ª—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
        category: "tech",
        description: "–£–∑–Ω–∞–π, –∫–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–±–µ –ø–æ–¥—Ö–æ–¥–∏—Ç!",
        image: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        icon: "fas fa-laptop-code",
        rating: 4.7,
        votes: 312,
        time: 10,
        date: "2024-01-10"
    },
    {
        id: 4,
        title: "–ö–∞–∫–æ–π —Ç—ã –í–∏–∫—Ç–æ—Ä –ö–æ–∑—å–º–∏–Ω?",
        category: "memes",
        description: "–û—Ç–±—Ä–æ—Å—å –≤—Å–µ –¥–µ–ª–∞ –≤ —Å—Ç–æ—Ä–æ–Ω—É –∏ —É–∑–Ω–∞–π, –∫–∞–∫–æ–π —Ç—ã –í–∏–∫—Ç–æ—Ä –ö–æ–∑—å–º–∏–Ω!",
        image: "kartinki/vityaa.jpg",
        icon: "fas fa-laugh-beam",
        rating: 4.6,
        votes: 178,
        time: 8,
        date: "2024-02-05"
    },
    {
        id: 5,
        title: "–ö–∞–∫–æ–π —Ç—ã —Å—É–ø–µ—Ä–≥–µ—Ä–æ–π?",
        category: "entertainment",
        description: "–£–∑–Ω–∞–π, –∫–∞–∫–∏–µ —Å—É–ø–µ—Ä—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∫—Ä—ã—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Ç–µ–±—è –∏ –∫–∞–∫–æ–π –≥–µ—Ä–æ–π —Ç–µ–±–µ –±–ª–∏–∑–æ–∫!",
        image: "https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        icon: "fas fa-shield-alt",
        rating: 4.9,
        votes: 223,
        time: 6,
        date: "2024-01-18"
    },
    {
        id: 6,
        title: "–¢–≤–æ–π —Å—Ç–∏–ª—å –æ–±—É—á–µ–Ω–∏—è",
        category: "psychology",
        description: "–û–ø—Ä–µ–¥–µ–ª–∏, –∫–∞–∫ —Ç—ã –ª—É—á—à–µ –≤—Å–µ–≥–æ —É—Å–≤–∞–∏–≤–∞–µ—à—å –Ω–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø–æ–ª—É—á–∞–µ—à—å –∑–Ω–∞–Ω–∏—è!",
        image: "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        icon: "fas fa-brain",
        rating: 4.5,
        votes: 156,
        time: 7,
        date: "2024-02-12"
    },
    {
        id: 7,
        title: "–¢–≤–æ–π –∏–≥—Ä–æ–≤–æ–π –∞—Ä—Ö–µ—Ç–∏–ø",
        category: "games",
        description: "–£–∑–Ω–∞–π, –∫–∞–∫–æ–π —Ç–∏–ø –∏–≥—Ä–æ–∫–∞ –≤ —Ç–µ–±–µ —Å–∫—Ä—ã—Ç: —Å—Ç—Ä–∞—Ç–µ–≥, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ –±–æ–µ—Ü?",
        image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
        icon: "fas fa-dice",
        rating: 4.8,
        votes: 287,
        time: 9,
        date: "2024-02-08"
    },
    {
        id: 8,
        title: "–ö–∞–∫–∞—è —Ç—ã –ø–∏—Ü—Ü–∞?",
        category: "food",
        description: "–û—Ç –ú–∞—Ä–≥–∞—Ä–∏—Ç—ã –¥–æ –ü–µ–ø–ø–µ—Ä–æ–Ω–∏ - —É–∑–Ω–∞–π, –∫–∞–∫–∞—è –ø–∏—Ü—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–≤–æ–µ–π –Ω–∞—Ç—É—Ä–µ!",
        image: "https://roll-club.kh.ua/wp-content/uploads/2021/06/pizza.jpg",
        icon: "fas fa-pizza-slice",
        rating: 4.4,
        votes: 134,
        time: 4,
        date: "2024-03-20"
    },
    {
        id: 9,
        title: "–ö—Ç–æ —Ç—ã –∏–∑ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ú–ö–ü",
        category: "memes",
        description: "–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∏ —É–∑–Ω–∞–π –∫–∞–∫–æ–π –∏–∑ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ü–û–ò–¢ –≤ –ú–ö–ü –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–µ–±–µ –ø–æ –≤–∞–π–±—É!",
        image: "kartinki/prepodi.jpg",
        icon: "fas fa-laugh-beam",
        rating: 4.7,
        votes: 198,
        time: 12,
        date: "2024-01-28"
    },
    {
        id: 10,
        title: "–ö–∞–∫–æ–π —Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–∑ —Ñ–∏–ª—å–º–∞?",
        category: "entertainment",
        description: "–£–∑–Ω–∞–π, –∫–∞–∫–æ–≥–æ –∫–∏–Ω–æ–≥–µ—Ä–æ—è –Ω–∞–ø–æ–º–∏–Ω–∞–µ—à—å —Å–≤–æ–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º!",
        image: "https://cs12.pikabu.ru/post_img/2022/11/02/10/1667406737124956825.webp",
        icon: "fas fa-video",
        rating: 4.6,
        votes: 167,
        time: 5,
        date: "2024-02-22"
    },
    {
        id: 11,
        title: "–ö–∞–∫–æ–π —Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–∞",
        category: "entertainment",
        description: "–û–ø—Ä–µ–¥–µ–ª–∏, –∫–∞–∫–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–µ–±–µ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É!",
        image: "https://cs14.pikabu.ru/post_img/2021/10/08/10/1633709649140443466.jpg",
        icon: "fas fa-film",
        rating: 4.3,
        votes: 145,
        time: 8,
        date: "2024-02-20"
    },
    {
        id: 12,
        title: "–ö–∞–∫–æ–π —Ç—ã –∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ–º?",
        category: "memes",
        description: "–û—Ç –ñ–¥—É–Ω–∞ –¥–æ –£–ø–æ—Ä–æ—Ç–æ–≥–æ –ö–æ—Ç–∞ - —É–∑–Ω–∞–π, –∫–∞–∫–æ–π –º–µ–º –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–±—è!",
        image: "https://static.rustore.ru/imgproxy/heR3jvDiuyx5KHnv13sdskqPCrszNWlBdiwrhlsn_6A/rs:fit:2666:1496/g:so/dpr:2/plain/https://static.rustore.ru/rustore-strapi/7/memes_main_a2856d53dd.webp@webp",
        icon: "fas fa-thumbs-up",
        rating: 4.9,
        votes: 312,
        time: 3,
        date: "2024-01-25"
    }
];

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
const TESTS_PER_PAGE = 9;
let currentPage = 1;
let filteredTests = [...allTests];
let currentSort = 'popular';
let currentCategory = '';
let currentSearch = '';

// –≠–ª–µ–º–µ–Ω—Ç—ã DOM
const testsContainer = document.getElementById('testsContainer');
const pagination = document.getElementById('pagination');
const loader = document.getElementById('loader');
const noResults = document.getElementById('noResults');
const searchInput = document.getElementById('searchInput');
const searchClear = document.getElementById('searchClear');
const categoryFilter = document.getElementById('categoryFilter');
const sortFilter = document.getElementById('sortFilter');
const resetFilters = document.getElementById('resetFilters');
const activeFilters = document.getElementById('activeFilters');
const activeFiltersTags = document.getElementById('activeFiltersTags');
const clearAllFilters = document.getElementById('clearAllFilters');
const searchResults = document.getElementById('searchResults');
const resultsCount = document.getElementById('resultsCount');
const hideResults = document.getElementById('hideResults');
const resetSearch = document.getElementById('resetSearch');
const shownTests = document.getElementById('shownTests');
const totalTestsCount = document.getElementById('totalTestsCount');
const searchIcon = document.querySelector('.search-box i.fa-search');

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
document.addEventListener('DOMContentLoaded', function() {
    initializeCatalog();
    setupEventListeners();
    displayTests();
    updatePagination();
});

function initializeCatalog() {
    totalTestsCount.textContent = allTests.length;
    updateShownTests();
}

function setupEventListeners() {
    // –ü–æ–∏—Å–∫
    searchInput.addEventListener('input', debounce(function() {
        currentSearch = this.value.trim();
        searchClear.style.display = currentSearch ? 'block' : 'none';
        applyFilters();
    }, 300));

    searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            currentSearch = this.value.trim();
            searchClear.style.display = currentSearch ? 'block' : 'none';
            applyFilters();
        }
    });
    
    if (searchIcon) {
        searchIcon.addEventListener('click', function() {
            currentSearch = searchInput.value.trim();
            searchClear.style.display = currentSearch ? 'block' : 'none';
            applyFilters();
        });
    }
    
    searchClear.addEventListener('click', function() {
        searchInput.value = '';
        currentSearch = '';
        this.style.display = 'none';
        applyFilters();
    });

    // –§–∏–ª—å—Ç—Ä—ã
    categoryFilter.addEventListener('change', function() {
        currentCategory = this.value;
        applyFilters();
    });

    sortFilter.addEventListener('change', function() {
        currentSort = this.value;
        applyFilters();
    });

    // –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    resetFilters.addEventListener('click', resetAllFilters);
    clearAllFilters.addEventListener('click', resetAllFilters);
    hideResults.addEventListener('click', function() {
        searchResults.style.display = 'none';
    });
    resetSearch.addEventListener('click', resetAllFilters);

    // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('pagination-btn') && !e.target.classList.contains('disabled')) {
            const page = parseInt(e.target.dataset.page);
            if (page) {
                currentPage = page;
                displayTests();
                updatePagination();
                window.scrollTo({ top: testsContainer.offsetTop - 100, behavior: 'smooth' });
            }
        }
    });
}

function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
function applyFilters() {
    loader.style.display = 'block';
    testsContainer.style.opacity = '0.5';

    setTimeout(() => {
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–∏—Å–∫—É –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        filteredTests = allTests.filter(test => {
            const matchesSearch = !currentSearch || 
                test.title.toLowerCase().includes(currentSearch.toLowerCase()) ||
                test.description.toLowerCase().includes(currentSearch.toLowerCase());
    
            const matchesCategory = !currentCategory || test.category === currentCategory;
    
            return matchesSearch && matchesCategory;
        });

        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        sortTests();
        
        // –°–±—Ä–æ—Å –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        currentPage = 1;
        displayTests();
        updatePagination();
        updateActiveFilters();
        updateSearchResults();

        loader.style.display = 'none';
        testsContainer.style.opacity = '1';
    }, 300);
}

function sortTests() {
    filteredTests.sort((a, b) => {
        switch (currentSort) {
            case 'popular':
                return b.votes - a.votes;
            case 'new':
                return new Date(b.date) - new Date(a.date);
            case 'rating':
                return b.rating - a.rating;
            case 'time':
                return a.time - b.time;
            case 'name':
                return a.title.localeCompare(b.title);
            default:
                return b.votes - a.votes;
        }
    });
}

function displayTests() {
    const startIndex = (currentPage - 1) * TESTS_PER_PAGE;
    const endIndex = startIndex + TESTS_PER_PAGE;
    const testsToShow = filteredTests.slice(startIndex, endIndex);

    if (testsToShow.length === 0) {
        noResults.style.display = 'block';
        testsContainer.innerHTML = '';
    } else {
        noResults.style.display = 'none';
        testsContainer.innerHTML = testsToShow.map(test => `
            <div class="test-card" data-test-id="${test.id}">
                <div class="test-image">
                    <img src="${test.image}" alt="${test.title}" onerror="this.src='https://images.unsplash.com/photo-1485451456034-3f9391c6f769?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'">
                    <div class="test-category">
                        <i class="${getCategoryIcon(test.category)}"></i>
                        ${getCategoryName(test.category)}
                    </div>
                </div>
                <div class="test-content">
                    <div class="test-header">
                        <h3>
                            <i class="${test.icon}"></i>
                            ${test.title}
                        </h3>
                    </div>
                    <div class="test-description">
                        <p>${test.description}</p>
                    </div>
                    <div class="test-meta">
                        <span class="test-stat">
                            <i class="fas fa-star"></i>
                            ${test.rating} (${test.votes})
                        </span>
                        <span class="test-time">
                            <i class="fas fa-clock"></i>
                            ${test.time} –º–∏–Ω
                        </span>
                    </div>
                    <div class="test-actions">
                        <a href="test.html?id=${test.id}" class="btn btn-test">
                            <i class="fas fa-play-circle"></i>
                            –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç
                        </a>
                    </div>
                </div>
            </div>
        `).join('');
    }

    updateShownTests();
}

function updatePagination() {
    const totalPages = Math.ceil(filteredTests.length / TESTS_PER_PAGE);
    let paginationHTML = '';

    if (totalPages <= 1) {
        pagination.innerHTML = '';
        return;
    }

    // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
    paginationHTML += `
        <button class="pagination-btn ${currentPage === 1 ? 'disabled' : ''}" 
                ${currentPage === 1 ? '' : `data-page="${currentPage - 1}"`}>
            <i class="fas fa-chevron-left"></i>
        </button>
    `;

    // –ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
    for (let i = 1; i <= totalPages; i++) {
        if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
            paginationHTML += `
                <button class="pagination-btn ${i === currentPage ? 'active' : ''}" data-page="${i}">
                    ${i}
                </button>
            `;
        } else if (i === currentPage - 2 || i === currentPage + 2) {
            paginationHTML += `<span class="pagination-ellipsis">...</span>`;
        }
    }

    // –ö–Ω–æ–ø–∫–∞ "–í–ø–µ—Ä–µ–¥"
    paginationHTML += `
        <button class="pagination-btn ${currentPage === totalPages ? 'disabled' : ''}" 
                ${currentPage === totalPages ? '' : `data-page="${currentPage + 1}"`}>
            <i class="fas fa-chevron-right"></i>
        </button>
    `;

    pagination.innerHTML = paginationHTML;
}

function updateShownTests() {
    const startIndex = (currentPage - 1) * TESTS_PER_PAGE + 1;
    const endIndex = Math.min(startIndex + TESTS_PER_PAGE - 1, filteredTests.length);
    shownTests.textContent = filteredTests.length === 0 ? '0' : `${startIndex}-${endIndex}`;
}

function updateActiveFilters() {
    const activeFiltersList = [];
    
    if (currentCategory) {
        activeFiltersList.push({
            type: 'category',
            text: `–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${getCategoryName(currentCategory)}`,
            value: currentCategory
        });
    }
    
    if (currentSearch) {
        activeFiltersList.push({
            type: 'search',
            text: `–ü–æ–∏—Å–∫: "${currentSearch}"`,
            value: currentSearch
        });
    }

    if (activeFiltersList.length > 0) {
        activeFilters.style.display = 'block';
        activeFiltersTags.innerHTML = activeFiltersList.map(filter => `
            <span class="filter-tag">
                ${filter.text}
                <button class="filter-tag-remove" data-type="${filter.type}" data-value="${filter.value}">
                    <i class="fas fa-times"></i>
                </button>
            </span>
        `).join('');

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
        document.querySelectorAll('.filter-tag-remove').forEach(btn => {
            btn.addEventListener('click', function() {
                const type = this.dataset.type;
                const value = this.dataset.value;
                
                if (type === 'category') {
                    categoryFilter.value = '';
                    currentCategory = '';
                } else if (type === 'search') {
                    searchInput.value = '';
                    currentSearch = '';
                    searchClear.style.display = 'none';
                }
                
                applyFilters();
            });
        });
    } else {
        activeFilters.style.display = 'none';
    }
}

function updateSearchResults() {
    if (currentSearch) {
        searchResults.style.display = 'block';
        resultsCount.textContent = `–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: ${filteredTests.length}`;
    } else {
        searchResults.style.display = 'none';
    }
}

function resetAllFilters() {
    searchInput.value = '';
    categoryFilter.value = '';
    sortFilter.value = 'popular';
    
    currentSearch = '';
    currentCategory = '';
    currentSort = 'popular';
    currentPage = 1;
    
    searchClear.style.display = 'none';
    filteredTests = [...allTests];
    sortTests();
    displayTests();
    updatePagination();
    updateActiveFilters();
    updateSearchResults();
}

function getCategoryIcon(category) {
    const icons = {
        'food': 'fas fa-utensils',
        'animals': 'fas fa-paw',
        'tech': 'fas fa-code',
        'memes': 'fas fa-laugh-beam',
        'entertainment': 'fas fa-film',
        'psychology': 'fas fa-brain',
        'games': 'fas fa-gamepad'
    };
    return icons[category] || 'fas fa-question';
}

function getCategoryName(category) {
    const names = {
        'food': '–ï–¥–∞',
        'animals': '–ñ–∏–≤–æ—Ç–Ω—ã–µ',
        'tech': '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
        'memes': '–ú–µ–º—ã',
        'entertainment': '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
        'psychology': '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è',
        'games': '–ò–≥—Ä—ã'
    };
    return names[category] || '–î—Ä—É–≥–æ–µ';
}

// –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
function showTestModal(testId) {
    const test = allTests.find(t => t.id == testId);
    alert(`–¢–µ—Å—Ç "${test.title}" —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω! –°–µ–π—á–∞—Å –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–æ–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.`);
}


document.addEventListener('DOMContentLoaded', () => {
    new ThemeManager();
});
    </script>
<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã -->
<script src="auth-core.js"></script>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–µ–¥–µ—Ä–æ–º -->
<script src="auth-header.js"></script>
</body>
</html>